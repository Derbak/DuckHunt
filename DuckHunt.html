<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Duck Hunt</title>
	<style>
		body {
		background: #000;
		color:#eee;
		margin:0;
		text-align: center;
		}

		#screen {
			width: 120vh;
			height: 67.5vw;
			max-width: 90vw;
			max-height: 90vh;
			margin: 5vh auto;
			position: relative;
		}

/*Main Menu*/
		#menu {
			display: grid;
			grid-template-columns: 100%;
			grid-template-rows: 50% 30% 20%;
			height: 100%;
			width: 100%;
			font-family: monospace, arial;
			font-kerning: normal;
			font-weight: 900;
		}

		#menuItems {
			display: grid;
			grid-template-columns: 100%;
			grid-template-rows: repeat(3, 1fr);
			color: #ff9f00;
			white-space: nowrap;
			position: relative;
			align-items: start;
		}

		#gameA, #gameB, #gameC {
			cursor: pointer;
			position: relative;
			height: 100%;
		}

		#gameA::before {
			content: "GAME A";
			position: absolute;
			right: 59%;
			transform: scaleX(1.4);
		}

		#gameA::after {
			content: "1 DUCK";
			position: absolute;
			left: 56%;
			transform: scaleX(1.4);
		}

		#gameB::before {
			content: "GAME B";
			position: absolute;
			right: 59%;
			transform: scaleX(1.4);
		}

		#gameB::after {
			content: "2 DUCK";
			position: absolute;
			left: 56%;
			transform: scaleX(1.4);
		}

		#gameC::before {
			content: "GAME C";
			position: absolute;
			right: 59%;
			transform: scaleX(1.4);
		}

		#gameC::after {
			content: "CLAY SHOOTING";
			position: absolute;
			left: 59%;
			transform: scaleX(1.4);
		}

		#menuCursor {
			position: absolute;
			top: 18%;
			left: 20%;
			width: 2.8%;
			height: 27%;
			background: #fff;
		}

		#menuCursor::before {
			content: "";
			top: 0;
			left: 0;
			width: 25%;
			height: 33%;
			position: absolute;
			background: #000;
		}

		#menuCursor::after {
			content: "";
			top: -100%;
			left: 30%;
			width: 120%;
			height: 100%;
			position: absolute;
			background: #000;
			transform-origin: 0 100%;
			transform: rotate(45deg);
		}

		#menuFooter {
			display: grid;
			grid-template-columns: 100%;
			grid-template-rows: repeat(2, 1fr);
			white-space: nowrap;
			position: relative;
			align-items: center;
		}

		#menuFooterScore, #menuFooterCopy {
			position: relative;
			height: 100%;
		}

		#menuFooterScore::before {
			content: attr(data-before);
			color: #7BE14F;
			position:absolute;
			left: 31%;
			transform: scaleX(1.4);
		}

		#menuFooterCopy::before {
			content: "Â©1984 NINTENDO CO., LTD.";
			color: #fff;
			position:absolute;
			left: 28%;
			transform: scaleX(1.4);
		}

		#menuLogo {
			display: grid;
			grid-template-columns: 1fr 1fr 1fr 1fr 1fr;
			grid-template-rows: 45% 1fr 45%;
			grid-template-areas:
			"letter1 letter2 letter3 letter4 ."
			"line line line line line"
			". letter5 letter6 letter7 letter8";
			justify-items: center;
			align-items: center;
			padding: 4% 12%;
		}

		.menuLogoLetter {
			background: #60cfe3;
			width: 76%;
			height: 100%;
			position:relative;
		}

		.menuLogoLetter#letter1 {
			grid-area: letter1;
		}

		.menuLogoLetter#letter2 {
			grid-area: letter2;
		}

		.menuLogoLetter#letter3 {
			grid-area: letter3;
		}

		.menuLogoLetter#letter4 {
			grid-area: letter4;
		}

		.menuLogoLetter#letter5 {
			grid-area: letter5;
		}

		.menuLogoLetter#letter6 {
			grid-area: letter6;
		}

		.menuLogoLetter#letter7 {
			grid-area: letter7;
		}

		.menuLogoLetter#letter8 {
			grid-area: letter8;
		}

		.D {
			border-radius: 0 25% 25% 0;
		}

		.D::before {
			content: "";
			position: absolute;
			background: #000;
			width: 23%;
			height: 39%;
			top: 20%;
			left: 55%;
			border-radius: 35%;
		}

			.U {
			border-radius: 0 0 25% 25%;
		}
			.U::before {
			content: "";
			position: absolute;
			background: #000;
			width: 23%;
			height: 59%;
			top: 0;
			left: 55%;
			border-radius: 0 0 30% 30%;
		}

			.C {
			border-radius: 25%;
		}
			.C::before {
			content: "";
			position: absolute;
			background: #000;
			width: 23%;
			height: 39%;
			top: 20%;
			left: 55%;
			border-radius: 35%;
		}

		.C::after {
			content: "";
			position: absolute;
			background: #000;
			width: 23%;
			height: 10%;
			top: 34.5%;
			left: 77%;
		}

		.K::before {
			content: "";
			position: absolute;
			background: #000;
			width: 23%;
			height: 41%;
			top: 0;
			left: 55%;
			border-bottom-right-radius: 80% 50%;
		}

		.K::after {
			content: "";
			position: absolute;
			background: #000;
			width: 23%;
			height: 41%;
			top: 59%;
			left: 55%;
			border-top-right-radius: 80% 50%;
		}

		#RecessK {
			position: relative;
			background: #000;
			width: 20%;
			height: 30%;
			top: 30%;
			left: 80%;
		}

		#RecessK::before {
			content: "";
			position: absolute;
			background: #60cfe3;
			width: 100%;
			height: 50%;
			top: 0;
			left: 0;
			border-radius: 0 0 100% 0;
		}

		#RecessK::after {
			content: "";
			position: absolute;
			background: #60cfe3;
			width: 100%;
			height: 50%;
			top: 50%;
			left: 0;
			border-radius: 0 100% 0 0;
		}

		.H::before {
			content: "";
			position: absolute;
			background: #000;
			width: 23%;
			height: 30%;
			top: 0;
			left: 55%;
		}

		.H::after {
			content: "";
			position: absolute;
			background: #000;
			width: 23%;
			height: 41%;
			top: 59%;
			left: 55%;
		}

		.N::before {
			content: "";
			position: absolute;
			background: #000;
			width: 23%;
			height: 41%;
			top: 59%;
			left: 55%;
			border-top-right-radius: 80% 50%;
		}

		#RecessN {
			position: relative;
			background: #000;
			width: 23%;
			height: 35%;
			top: 0;
			left: 55%;
		}

		#RecessN::before {
			content: "";
			position: absolute;
			background: #60cfe3;
			width: 100%;
			height: 40%;
			bottom: 0;
			left: 0;
			border-top-right-radius: 90% 70%;
		}

		.T::before {
			content: "";
			position: absolute;
			background: #000;
			width: 23%;
			height: 80%;
			top: 20%;
			left: 0;
		}

		.T::after {
			content: "";
			position: absolute;
			background: #000;
			width: 23%;
			height: 80%;
			top: 20%;
			left: 77%;
		}

		#menuLogoLine {
			background: #ff9f00;
			grid-area: line;
			width: 95%;
			height: 16%;
		}
/*Test Chamber*/

		#testChamberOpenClose {
			position: absolute;
			z-index: 11;
			width: 3.4vh;
			height: 2.55vw;
			max-width: 3.5vw;
			max-height: 3.5vh;
			background: transparent;
			top: 0;
			right: 0;
			display: grid;
			justify-items: center;
			align-items: center;
			font-weight: bold;
			font-family: monospace;
			color: #dadada;
			outline: #afafaf ridge 2px;
			text-shadow: 1px 1px 1px black;
			-ms-user-select: none;
			-moz-user-select: none;
			-webkit-user-select: none;
			user-select: none;
		}

		#testChamberOpenClose:active {
			outline: #afafaf groove 2px;
		}

		#testChamberMenu {
			display: grid;
			grid-template-columns: 1fr;
			grid-template-rows: 20% 1fr;
			width: 100%;
			height: 20%;
			position: absolute;
			color: #dadada;
			background: linear-gradient(to bottom, RGBA(255, 255, 255, 0.2) 80%, transparent);
			-ms-user-select: none;
			-moz-user-select: none;
			-webkit-user-select: none;
			user-select: none;
			z-index: 10;
		}

		#testChamberMenuTopBar {
			display: grid;
			grid-template-columns: repeat(3, 25%);
			grid-template-rows: 1fr;
			flex-wrap: nowrap;
			background: RGBA(155, 155, 155, 0.5);
		}

		.testChamberMenuTopBarItem {
			display: inline-grid;
			justify-items: center;
			align-items: center;
			font-variant: small-caps;
			font-weight: 100;
			font-stretch: ultra-expanded;
			font-family: monospace;
			text-shadow: 1px 1px 1px black;
		}

		.testChamberMenuTopBarItem:hover {
			background: linear-gradient(to bottom, RGBA(95, 95, 95, 0.5), RGBA(155, 155, 155, 0.2));
		}

		.testChamberMenuTopBarItem:active {
			outline: 1px #999 solid;
		}

		#testChamberMenuTopBarItemBackground::before {
			display: inline-block;
			content: "Background";
		}

		#testChamberMenuTopBarItemInterface::before {
			content: "Interface";
		}

		#testChamberMenuTopBarItemObjects::before {
			content: "Objects";
		}

		#testChamberSubMenu {
			height: 80%;
			font-weight: 100;
			font-stretch: ultra-expanded;
			font-family: monospace;
			text-shadow: 1px 1px 1px black;
		}

		#testChamberMenuBackground {
			height: 100%;
			display: grid;
			grid-template-columns: 100%;
			grid-template-rows: repeat(1fr);
			justify-items: start;
			align-items: center;
		}

		.SubMenuBackgroundItem {
			width: 15%;
			height:100%;
			padding-left: 3%;
			display: flex;
			align-items: center;
		}

		.SubMenuChecked {
			background: RGBA(155, 155, 155, 0.5);
			color: #d5e05e;
		}

		#background {
			background: #40bdff;
			width: 100%;
			height: 100%;
		}

		#grass2 {
			position: absolute;
			width: 100%;
			height: 43%;
			bottom: 0;
			background: linear-gradient(#83d214 1%, #3c9b01 2%, #83d214 3%, #3c9b01 5%, #83d214 6%);
		}

		#mountains {
			position: absolute;
			width: 100%;
			height: 18%;
			bottom: 43%;
			background: #005102;
			clip-path: polygon(0 100%, 0 77%, 5% 68%, 9.5% 49%, 11% 51%, 12% 43%, 13.5% 41%, 14% 36%, 16% 24%, 17% 19%, 17.5% 12%, 19% 9%, 20% 7%, 21% 1%, 22% 0% /*<- top*/, 23% 1%,  25% 9%, 26% 10%, 27% 17%, 28.5% 19%, 29.5% 17%, 31% 19%, 34% 39%, 42% 66%, 43.5% 64%, 47% 51%, 48% 49%, 49.5% 44%, 52% 38%, 53.5% 31%, 56.5% 23%, 57.5% 22%/*<-top2*/, 58.5% 24%, 62% 32%, 63% 43%, 65% 50%, 67% 52%, 68% 56%, 69.5% 58%, 70.5% 59%, 72% 59%, 73% 58%, 75.5% 53%, 78.5% 45%, 79.5% 43%, 80% 42%/*<-top3*/, 81% 43%, 85% 52%, 86.5% 56%, 89% 57%, 90.5% 61%, 94% 63%, 95% 65%, 96.5% 70%, 98% 72%, 100% 77%, 100% 100%);
		}

		#mountains::before {
			position: absolute;
			content: "";
			width: 42%;
			height: 100%;
			left: 0;
			background: #3c9b01;
			clip-path: polygon(0 100%, 0 0, 50% 0, 56% 8%, 56% 10%, 55% 12%, 55% 13%, 58% 16%, 61% 21%, 64% 25%, 64.5% 26%, 64% 28%, 62% 32%, 62% 33%, 65% 35%, 68% 38%, 72.5% 43%, 73.5% 45%, 72% 48%, 70% 50%, 71% 53%, 76% 54%, 81% 60%, 84% 65%, 85.5% 68%, 86% 70%, 86% 71.5%, 85.5% 74%, 85.5% 75%, 90% 76%, 92% 79%, 96.5% 81%, 98.5% 86%, 99.5% 91%, 100% 94%, 100% 96%, 99% 98%, 98.5% 100%);
		}

		#mountains::after {
			position: absolute;
			content: "";
			width: 58%;
			height: 100%;
			right: 0;
			background: #3c9b01;
			clip-path: polygon(14% 100%, 11.5% 95%, 11% 93%, 9% 90%, 8.5% 88%, 8% 85%, 6% 80%, 5% 79%, 3.5% 73%, 2% 70%, 0 66%, 0 20%, 26% 20%, 27.5% 27%, 28% 28%, 28% 30%, 26.5% 35%, 26.5% 36%, 28.5% 38%, 30% 40%, 32.5% 46%, 32.5% 48%, 32% 49%, 32% 50%, 34% 52%, 38% 55%, 41.5% 60%, 42% 65%, 43% 66%, 44% 65%, 46% 62%, 50% 59%, 66% 40%, 68% 44%, 67.5% 46%, 68% 47%, 69% 49%, 70.5% 52%, 71% 54%, 71% 55%, 70.5% 57%, 70.5% 58%, 72% 60%, 74% 63%, 75% 66%, 76% 66%, 77% 64%, 79% 64%, 81% 69%, 81.5% 71%, 81.5% 73%, 81% 75%, 83% 76%, 84% 77%, 86% 81%, 86% 83%, 87% 85%, 87% 87%, 86% 92%, 86% 93%, 88% 95%, 89% 97%, 89% 100%);
		}

	</style>
</head>

<body>
	<script>

var screen = document.body.insertBefore(document.createElement('div'), document.body.firstChild);
screen.id = 'screen';

/*------------------------------------*/
/*-----Declaring global variables-----*/
/*------------------------------------*/
var score = 0;
var topScore = (score > topScore) ? score : 12000;
var selectedGame = 1;
var currentLocation = '';

/*------------------------------------------*/
/*-----Functions visual objects render -----*/
/*------------------------------------------*/

function showMenu() {
	screen.innerHTML = '';

	var menu = document.createElement('div');
	menu.id = 'menu';

	var menuLogo = document.createElement('div');
	menuLogo.id = 'menuLogo';

	var menuItems = document.createElement('div');
	menuItems.id = 'menuItems';

	var menuFooter = document.createElement('div');
	menuFooter.id = 'menuFooter';

	screen.appendChild(menu);

	//Render Logo
	menu.appendChild(menuLogo);
	var gameName = ['D','U','C','K','H','U','N','T'];
	for (var i=0; i < gameName.length; i++) {
		menuLogoLetter = document.createElement('div');
		menuLogoLetter.id = 'letter'+(i+1);
		menuLogoLetter.classList.add('menuLogoLetter');
		menuLogoLetter.classList.add(gameName[i]);
		menuLogo.appendChild(menuLogoLetter);
		if (i == 3) {
			var RecessK = document.createElement('div');
			RecessK.id = 'RecessK';
			menuLogoLetter.appendChild(RecessK);
		}
		if (i == 6) {
			var RecessN = document.createElement('div');
			RecessN.id = 'RecessN';
			menuLogoLetter.appendChild(RecessN);
		}
	}

	var menuLogoLine = menuLogo.insertBefore(document.createElement('div'), menuLogo.children[4]);
	menuLogoLine.id = 'menuLogoLine';

	//Render Menu Items
	menu.appendChild(menuItems);

	var gameA = document.createElement('div');
	gameA.id = 'gameA';
	menuItems.appendChild(gameA);

	var gameB = document.createElement('div');
	gameB.id = 'gameB';
	menuItems.appendChild(gameB);

	var gameC = document.createElement('div');
	gameC.id = 'gameC';
	menuItems.appendChild(gameC);

	var menuCursor = document.createElement('div');
	menuCursor.id = 'menuCursor';
	gameA.appendChild(menuCursor);

	//Render menu footer
	menu.appendChild(menuFooter);

	var menuFooterScore = document.createElement('div');
	menuFooterScore.id = 'menuFooterScore';
	menuFooter.appendChild(menuFooterScore);
	menuFooterScore.dataset.before = 'TOP SCORE = ' + topScore;

	var menuFooterCopy = document.createElement('div');
	menuFooterCopy.id = 'menuFooterCopy';
	menuFooter.appendChild(menuFooterCopy);

	menu.style.fontSize = (menuItems.offsetWidth/28 + 'px');
	selectGame(selectedGame);
	menuMouseEvent();
	currentLocation = 'menu';
	return currentLocation;
}

function showTestChamber() {
	screen.innerHTML = '';

	var testChamberOpenClose = document.createElement('div');
	testChamberOpenClose.id = 'testChamberOpenClose';
	screen.appendChild(testChamberOpenClose);
	testChamberOpenClose.style.fontSize = (screen.offsetWidth/64 + 'px');
	testChamberOpenClose.innerHTML = '-';

	var testChamberMenu = document.createElement('div');
	testChamberMenu.id = 'testChamberMenu';
	screen.appendChild(testChamberMenu);

	var testChamberMenuTopBar = document.createElement('div');
	testChamberMenuTopBar.id = 'testChamberMenuTopBar';
	testChamberMenu.appendChild(testChamberMenuTopBar);
	testChamberMenuTopBar.style.fontSize = (screen.offsetWidth/42 + 'px');

	var testChamberMenuTopBarItemBackground = document.createElement('div');
	testChamberMenuTopBarItemBackground.id = 'testChamberMenuTopBarItemBackground';
	testChamberMenuTopBarItemBackground.className = 'testChamberMenuTopBarItem';
	testChamberMenuTopBar.appendChild(testChamberMenuTopBarItemBackground);

	var testChamberMenuTopBarItemInterface = document.createElement('div');
	testChamberMenuTopBarItemInterface.id = 'testChamberMenuTopBarItemInterface';
	testChamberMenuTopBarItemInterface.className = 'testChamberMenuTopBarItem';
	testChamberMenuTopBar.appendChild(testChamberMenuTopBarItemInterface);

	var testChamberMenuTopBarItemObjects = document.createElement('div');
	testChamberMenuTopBarItemObjects.id = 'testChamberMenuTopBarItemObjects';
	testChamberMenuTopBarItemObjects.className = 'testChamberMenuTopBarItem';
	testChamberMenuTopBar.appendChild(testChamberMenuTopBarItemObjects);

	var testChamberSubMenu = document.createElement('div');
	testChamberSubMenu.id = 'testChamberSubMenu';
	testChamberMenu.appendChild(testChamberSubMenu);
	testChamberSubMenu.style.fontSize = (testChamberSubMenu.offsetWidth/64 + 'px');


	var testChamberMenuBackground = document.createElement('div');
	testChamberMenuBackground.id = 'testChamberMenuBackground';
	testChamberSubMenu.appendChild(testChamberMenuBackground);

	for(var i=0; i < 3; i++) {
		var div = document.createElement('div');
		div.id = 'divShowBackground' + i;
		div.classList.add('SubMenuBackgroundItem');
		if (i == 0) div.classList.add('SubMenuChecked');
		div.innerHTML += ' showBackground(' + i + ')';
		testChamberMenuBackground.appendChild(div);
	}



	testChamberMouseEvent();
	currentLocation = 'testChamber';
	return currentLocation;
}

function showBackground(n) {
	var background = document.getElementById('background');
	if (background === null) {
		background = document.createElement('div');
		background.id = 'background';
		screen.appendChild(background);
	}
	background.innerHTML = '';

	switch (n) {
		case 0:
			screen.removeChild(background);
		break;

		case 1:
			//var sky = document.createElement('div');
		break;

		case 2:
			var mountains = document.createElement('div');
			mountains.id = 'mountains';
			background.appendChild(mountains);

			var grass2 = document.createElement('div');
			grass2.id = 'grass2';
			background.appendChild(grass2);
		break;
	}
}
/*------------------------*/
/*-----Player actions-----*/
/*------------------------*/

function selectGame(selectedGame) {
	var menuCursor = document.getElementById('menuCursor');
	var gameA = document.getElementById('gameA');
	var gameB = document.getElementById('gameB');
	var gameC = document.getElementById('gameC');
	switch (selectedGame) {
		case 1:
			menuCursor.parentNode.removeChild(menuCursor);
			gameA.appendChild(menuCursor);
		break;

		case 2:
			menuCursor.parentNode.removeChild(menuCursor);
			gameB.appendChild(menuCursor);
		break;

		case 3:
			menuCursor.parentNode.removeChild(menuCursor);
			gameC.appendChild(menuCursor);
		break;
	}
	return selectedGame;
}

function playGame(selectedGame) {
	screen.innerHTML = '<button onclick="showMenu()">Not released yet</button>';
	currentLocation = 'game';
	return currentLocation;
}

/*------------------------*/
/*-----Event handling-----*/
/*------------------------*/

document.onload = showMenu();


window.onresize = function() {
	if (currentLocation == 'menu') {
		menu.style.fontSize = (menuItems.offsetWidth/28 + 'px');
	}

	if (currentLocation == 'testChamber') {
		testChamberMenuTopBar.style.fontSize = (screen.offsetWidth/42 + 'px');
		testChamberOpenClose.style.fontSize = (screen.offsetWidth/64 + 'px');
		testChamberSubMenu.style.fontSize = (screen.offsetWidth/64 + 'px');

	}
}

document.onkeyup = function(e) {
	switch (e.code) {
		case 'ArrowDown':
			if (currentLocation == 'menu' && selectedGame < 3) {
				selectedGame++;
				selectGame(selectedGame);
			}
		break;

		case 'ArrowUp':
			if (currentLocation == 'menu' && selectedGame > 1) {
				selectedGame--;
				selectGame(selectedGame);
			}
		break;

		case 'Escape':
			selectedGame = 1;
			showMenu();
		break;

		case 'Enter':
			if (currentLocation == 'menu') {
				playGame(selectedGame);
			}
		break;

		case 'Backquote':
		if (currentLocation == 'menu') {
			showTestChamber();
		}
		break;
	}
}

function menuMouseEvent() {

	gameA.onmouseover = function() {
		selectedGame = 1;
		selectGame(selectedGame);
		return selectedGame;
	}

	gameB.onmouseover = function() {
		selectedGame = 2;
		selectGame(selectedGame);
		return selectedGame;
	}

	gameC.onmouseover = function() {
		selectedGame = 3;
		selectGame(selectedGame);
		return selectedGame;
	}

	gameA.onclick = function() {
		selectedGame = 1;
		playGame(selectedGame);
	}

	gameB.onclick = function() {
		selectedGame = 2;
		playGame(selectedGame);
	}

	gameC.onclick = function() {
		selectedGame = 3;
		playGame(selectedGame);
	}
}

function testChamberMouseEvent() {

	testChamberOpenClose.onclick = function() {
		testChamberOpenClose.innerHTML == '-' ? testChamberOpenClose.innerHTML = '+' : testChamberOpenClose.innerHTML = '-';
		testChamberMenu.style.display == 'none' ? testChamberMenu.style.display = 'grid' : testChamberMenu.style.display = 'none';
	}

	document.getElementById('divShowBackground0').onclick = function() {
		document.getElementById('divShowBackground0').classList.add('SubMenuChecked');
		document.getElementById('divShowBackground1').classList.remove('SubMenuChecked');
		document.getElementById('divShowBackground2').classList.remove('SubMenuChecked');
		showBackground(0);
	}
	document.getElementById('divShowBackground1').onclick = function() {
		document.getElementById('divShowBackground0').classList.remove('SubMenuChecked');
		document.getElementById('divShowBackground1').classList.add('SubMenuChecked');
		document.getElementById('divShowBackground2').classList.remove('SubMenuChecked');
		showBackground(1);
	}
	document.getElementById('divShowBackground2').onclick = function() {
		document.getElementById('divShowBackground0').classList.remove('SubMenuChecked');
		document.getElementById('divShowBackground1').classList.remove('SubMenuChecked');
		document.getElementById('divShowBackground2').classList.add('SubMenuChecked');
		showBackground(2);
	}

}



/*------------------------*/
/*-----Directly games-----*/
/*------------------------*/
	</script>

	<noscript>JavaScript is disabled in your browser. The game is impossible.</noscript>
</body>

</html>
